---
displayNumber: 138
status: open
priority: 3
createdAt: 2026-02-05T23:01:39.238140+00:00
updatedAt: 2026-02-05T23:16:02.328961+00:00
---

# Configurable editor support

Centy currently has built-in support for two editors: VS Code and the system terminal. These are hardcoded as the only options for opening workspaces, launching agents, and editing items. But developers use a wide variety of editors and IDEs â€” Neovim, JetBrains products, Zed, Sublime Text, Emacs, and many more. Limiting Centy to just two editors excludes a significant portion of potential users and forces workarounds for teams that do not use VS Code.

We want to replace the hardcoded editor support with a configurable system where users can define their own editors. Each editor definition would specify how to open a project directory, how to open a specific file, and any other commands needed for workspace integration.

This should be flexible enough to support any editor that can be launched from the command line, which covers virtually all modern editors and IDEs. The built-in VS Code and terminal support should be migrated to use this same configuration system, serving as both defaults and examples for users who want to add their own editors.

## Design Decisions

### Configuration architecture: User-level config with project-level default selection

Editor *definitions* live in user-level config (`~/.centy/config.json` or `~/.centy/editors.json`). These define what editors are available on the user's machine. Project-level config (`.centy/config.json`) only specifies which editor ID to use as the default via a `default_editor` field. This keeps editor setup personal (your machine, your paths) while letting projects express a team preference.

### Built-in editors: Express as default editor configs

The existing VS Code and Terminal implementations (`vscode.rs`, `terminal.rs`) should be re-expressed as default editor configurations that ship when no user config exists. They go through the same generic editor system as custom editors:

* The `EditorType` enum and its match dispatch in `editor.rs` are replaced by a config-driven lookup
* The platform-specific detection logic is preserved but expressed through the editor config schema
* Users can override built-in definitions by defining an editor with the same ID (e.g., `"vscode"`)
* Built-in defaults serve as both working implementations and examples

### RPC changes: Unified OpenInTempWorkspace

The editor-specific RPCs (`OpenInTempVscode`, `OpenInTempTerminal`, `OpenStandaloneWorkspaceVscode`, `OpenStandaloneWorkspaceTerminal`) converge into a single `OpenInTempWorkspace` RPC (and a single `OpenStandaloneWorkspace`) that takes an editor ID string parameter. The proto `EditorType` enum is replaced with string-based editor IDs.

## Editor Definition Schema

Each editor config entry:

* `id` - Unique string identifier (e.g., `"vscode"`, `"zed"`, `"neovim"`)
* `name` - Human-readable display name
* `open_dir` - Command template to open a project directory (e.g., `"zed {dir}"`)
* `open_file` - Command template to open a file at a line (e.g., `"zed {file}:{line}"`)
* `detect` - Shell command to check availability (exit code 0 = available)
* `terminal_wrapper` - Boolean for editors that run inside a terminal (nvim, emacs -nw)
* `setup_workspace` - Optional command to run after workspace creation (replaces hardcoded `.vscode/` setup)

## Implementation Scope

### Files to modify

* `src/workspace/editor.rs` - Replace `EditorType` enum with config-driven editor registry
* `src/workspace/vscode.rs` - Refactor into a default editor config definition
* `src/workspace/terminal.rs` - Refactor into default config + shared terminal-wrapping utility
* `src/workspace/orchestrator.rs` - Accept editor ID instead of `EditorType`
* `src/config/mod.rs` - Add editor config loading, `default_editor` field
* `proto/centy.proto` - Replace `EditorType` enum with string IDs, unify workspace RPCs
* `src/server/mod.rs` - Implement unified RPCs, update `GetSupportedEditors`

### New files

* `src/workspace/editor_config.rs` - Editor config schema, loading, merging, generic launch logic
* `src/workspace/builtin_editors.rs` - Built-in VS Code and Terminal as config structs

### Backwards compatibility

* Old editor-specific RPCs kept temporarily as thin wrappers delegating to unified RPC, then deprecated
* Proto `EditorType` enum kept alongside string-based ID for transition period
