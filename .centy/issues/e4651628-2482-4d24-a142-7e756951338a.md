---
displayNumber: 202
status: open
priority: 2
createdAt: 2026-02-17T08:30:50.748267+00:00
updatedAt: 2026-02-17T08:30:50.748267+00:00
---

# Remove legacy allowedStates from CentyConfig and gRPC API

## Context

With the migration to per-item-type `config.yaml` files, each item type now defines its own `statuses` field in `.centy/<type>/config.yaml`. The old global `allowedStates` field on `CentyConfig` (`config.json`) is no longer the source of truth.

## Problem

`allowedStates` still exists in multiple places as a first-class field even though `config.yaml` statuses have replaced it:

* `CentyConfig` struct field (`src/config/mod.rs`)
* gRPC API: `updateConfig` and `updateOrgConfig` RPCs
* e2e tests: `config.e2e.spec.ts`, `org-issues.e2e.spec.ts`
* gRPC client types: `grpc-client.ts`

## Scope

* Remove `allowed_states` from `CentyConfig` (or deprecate with a migration path)
* Remove `allowedStates` from gRPC config update/get RPCs
* Update e2e tests to validate `statuses` on item-type configs instead
* Update `OrgConfig` type to drop `allowedStates`
* Ensure the migration function (`default_issue_config`) still works for projects that havenâ€™t migrated yet

Parent: #135
