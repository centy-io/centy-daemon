---
displayNumber: 204
status: open
priority: 2
createdAt: 2026-02-22T16:11:13.434247+00:00
updatedAt: 2026-02-22T16:24:13.835494+00:00
---

# feat: configurable ignore paths in user global config

## Summary

Allow users to configure a list of path patterns to ignore when listing projects, in the global user-scope config.

## Prerequisites

- #205 — `~/.config/centy/config.toml` user global config must be in place first

## Motivation

Currently, `list_projects` filters out paths using:
1. `is_in_temp_dir()` — detects paths under `std::env::temp_dir()` (e.g. `/var/folders/...` on macOS)

However, worktree-io puts worktrees at `~/worktrees/local/{project_name}/issue-{N}`, which are not temp dirs but should be excluded from project listings by default (they are ephemeral checkout directories, not real projects).

## Proposed Design

Add an `ignore_paths` field under `[registry]` in `~/.config/centy/config.toml`:

```toml
[registry]
ignore_paths = [
  "$TMPDIR",          # system temp dir (existing default)
  "~/worktrees/*",    # worktree-io worktree checkouts
]
```

### Defaults

The default value should include:
- The system temp directory (equivalent to existing `is_in_temp_dir` logic)
- `~/worktrees/*` (worktree-io checkout paths)

### Behavior

- Paths support glob patterns and `~` expansion
- If a registered project path matches any ignore pattern, it is excluded from `list_projects` (unless `include_temp` is true, or a new `include_ignored` flag is added)
- The config is loaded at daemon startup and respected in `tracking::list_projects`

## Implementation Notes

- See `src/utils/mod.rs:42` — `is_in_temp_dir()` is the current temp filter
- See `src/registry/tracking.rs:152` — `list_projects` applies the `include_temp` filter
- See `src/registry/types.rs:141` — `ListProjectsOptions` struct
- The existing `include_temp` flag on `ListProjectsOptions` could be generalized to `include_ignored`
- User config loading is provided by issue #205
