---
displayNumber: 211
status: in-progress
priority: 2
createdAt: 2026-02-26T00:47:34.898853+00:00
updatedAt: 2026-02-28T14:09:38.839409+00:00
---

# Remove custom logic for doc item type

Part of epic #1: Remove legacy item types custom logic.

The `doc` item type will still exist as a configured item type (via `.centy/docs/config.yaml`), but the daemon should no longer have hardcoded special logic for it — it should go through the generic item type code path instead.

## Files to modify

### `src/item/entities/doc/`
- Delete entire module (types, crud, mod.rs) — replace with generic item path

### `src/link/mod.rs`
- Remove `TargetType::Doc` enum variant and all its match arms — handle via string-based lookup instead

### `src/template/types.rs`
- Remove `TemplateType::Doc` enum variant, `DocTemplateContext` struct, and related match arms

### `src/server/action_builders_extra.rs`
- Remove `build_doc_actions()` function — actions should come from generic config

### `src/server/handlers/entity_actions.rs`
- Remove import of `build_doc_actions` and its match arm for `EntityType::Doc`

### `src/server/handlers/item_type_resolve.rs`
- Remove hardcoded fallback for `"docs" | "doc"` — the config.yaml in the project is the source of truth

## What stays
- `.centy/docs/config.yaml` is written on project init (and kept)
- `default_doc_config()` in `item_type_config.rs` is kept (used to generate that file)
- All hook/storage tests that happen to use `"doc"` as an item type string are fine as-is
