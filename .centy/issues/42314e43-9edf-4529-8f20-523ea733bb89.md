---
displayNumber: 187
status: open
priority: 2
createdAt: 2026-02-15T18:05:18.346001+00:00
updatedAt: 2026-02-15T18:05:18.346001+00:00
---

# Merge cspell.json on init instead of overwriting

Currently, running `centy init` overwrites the `.centy/cspell.json` file with the default template. This means any custom words the user has added to the `words` array are lost.

## Goal

When `centy init` is run on a project that already has a `.centy/cspell.json`, merge the default template with the existing file instead of replacing it. This preserves user-added words and custom configuration.

## Requirements

* If `.centy/cspell.json` does not exist, create it from the default template (current behavior)
* If `.centy/cspell.json` already exists, merge it:
  * **words**: Union of the template’s default words and the user’s existing words (deduplicated)
  * **ignorePaths**: Union of the template’s default ignore paths and the user’s existing ignore paths (deduplicated)
  * **version** and **language**: Use the template’s values (these are managed by centy)
* Preserve any additional top-level keys the user may have added (e.g., `flagWords`, `dictionaries`)

## Implementation Notes

* The merge logic should live in `src/reconciliation/managed_files.rs` or `src/reconciliation/execute.rs`
* Consider introducing a `ManagedFileType::MergeableJson` variant or a merge strategy on `ManagedFileTemplate` to distinguish files that should be merged vs overwritten
* The `words` and `ignorePaths` arrays should be sorted after merging for deterministic output
